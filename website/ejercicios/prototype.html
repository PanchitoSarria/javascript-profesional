<html>
  <head>
    <title>Prototype</title>
  </head>

  <body>
    <a href="/ejercicios/">Go back</a>
    <p><em>Abre la consola</em></p>

    <script>
      // Un objeto común y corriente
      // const zelda = {
      //   name: 'Zelda',
      // };

      // zelda.saludar = function() {
      //   console.log(`Hola soy ${this.name}`);
      // };

      // zelda.saludar();

      // const link = {
      //   name: 'Link',
      // };

      // link.saludar = function() {
      //   console.log(`Hola soy ${this.name}`);
      // };

      // link.saludar();

      // Seamos un poco más eficientes
      // function Hero(name) {
      //   const hero = {
      //     name: name,
      //   };

      //   hero.saludar = function() {
      //     console.log(`Hola soy ${this.name}`);
      //   };

      //   return hero;
      // }
      // const zelda = Hero('Zelda');
      // zelda.saludar();

      // const link = Hero('Link');
      // link.saludar();

      // Aun podemos mejorar más y evitar tener que crear la misma función cada vez
      // const heroMethods = {
      //   saludar: function() {
      //     console.log(`Me llamo ${this.name}`);
      //   },
      // };

      // function Hero(name) {
      //   const hero = {
      //     name: name,
      //   };
      //   hero.saludar = heroMethods.saludar;
      //   return hero;
      // }

      // const zelda = Hero('Zelda');
      // zelda.saludar();

      // const link = Hero('Link');
      // link.saludar();

      // Object.create
      // const nuevoObjeto = Object.create(objeto)
      // const heroMethods = {
      //   saludar: function() {
      //     console.log(`Soy superheroe! ${this.name}`);
      //   },
      // };

      // function Hero(name) {
      //   const hero = Object.create(heroMethods);
      //   hero.name = name;

      //   return hero;
      // }

      // const zelda = Hero('Zelda');
      // zelda.saludar();

      // const link = Hero('Link');
      // link.saludar();

      // Los métodos de hero dentro de Hero
      // const heroMethods = {
      //   saludar: function() {
      //     console.log(`Soy superheroe! ${this.name}`);
      //   },
      // };

      // function Hero(name) {
      //   const hero = Object.create(Hero.prototype);
      //   hero.name = name;

      //   return hero;
      // }

      // Hero.prototype.saludar = function() {
      //   console.log(`Soy superheroina! ${this.name}`);
      // };

      // const zelda = Hero('Zelda');
      // zelda.saludar();

      // const link = Hero('Link');
      // link.saludar();

      // new es un atajo (azucar sintactica) para llevar Hero.prototype al objeto que estamos creando
      function Hero(name) {
        // this = Object.create(Hero.prototype);
        this.name = name;
        // return this;
      }

      Hero.prototype.saludar = function() {
        console.log(`New: ${this.name}`);
      };

      const zelda = new Hero('Zelda');
      zelda.saludar();

      const link = new Hero('Link');
      link.saludar();




    // Shape - superclase
    function Shape() {
      this.x = 0;
      this.y = 0;
    }
    
    // método de la superclase
    Shape.prototype.move = function(x, y) {
        this.x += x;
        this.y += y;
        console.info("Shape moved.");
    };
    Shape.prototype.saludo = function(){
      console.log('saludo con shape')
    }
    
    // Rectangle - subclase
    function Rectangle() {
      Shape.call(this); // llama al contructor de la superclase.
    }
    
    // subclase extiende superclase
    Rectangle.prototype = Object.create(Shape.prototype);
    Rectangle.prototype.constructor = Rectangle;
    Rectangle.prototype.saludo = function(){
      console.log('saludo rectangulo')
    }

    function OtroProto(){}
    OtroProto.prototype.funcProto = function(){
      console.log('Metodo de OtroProto')
    }

    function Circulo(prop1, prop2){
      this.prop1 = prop1
      this.prop2 = prop2
      Shape.call(this)
      Rectangle.call(this)
      OtroProto.call(this)
    }

    Circulo.prototype = Object.create(Rectangle.prototype)
    Object.assign(Circulo.prototype, OtroProto.prototype)

    const circl = new Circulo(3, 3)
    
    var rect = new Rectangle();
    
    // console.log('¿Es rect una instancia de Rectangle?',
    //   rect instanceof Rectangle); // true
    // console.log('¿Es rect una instancia de Shape?',
    //   rect instanceof Shape); // true
    // rect.move(1, 1); // Imprime, 'Shape moved.'

    // console.log('¿Es circl una instancia de Rectangle?',
    //   circl instanceof Rectangle); // true
    // console.log('¿Es circl una instancia de Shape?',
    // circl instanceof Shape); // true
    // console.log('¿Es circl una instancia de Circulo?',
    // circl instanceof Circulo); // true 
    // console.log('¿Es circl una instancia de OtroProto?',
    // circl instanceof OtroProto); // true 
    // rect.move(1, 1); // Imprime, 'Shape moved.'


    const objetoLiteral = {
      prop1: 'Propiedad 1',
      prop2: 'Propiedad 2'
    }

    const objetoNew = new Object()
    objetoNew.prop1 = 'PropNewObj 1'
    objetoNew.prop2 = 'PropNewObj 2'


    const myCar = new Object()
    var propertyName = 'make';
    myCar[propertyName] = 'Ford';

    function CreaObjeto(nombre, apellido){
      this.nombre = nombre
      this.apellido = apellido
    }

    const crearObjNew = new CreaObjeto('Fran', 'Sarría')
    const crearObjcreate = Object.create(crearObjNew)
    // crearObjcreate.nombre = 'Pupi'



    function Car(make, model, year, owner) {
      this.make = make;
      this.model = model;
      this.year = year;
      this.owner = owner;
      this.displayCar = displayCar;
    }

    function displayCar() {
      var result = `A Beautiful ${this.year} ${this.make} ${this.model}`;
      console.log(result);
    }

    var car1 = new Car('Eagle', 'Talon TSi', 1993);
    var car2 = new Car('Nissan', '300ZX', 1992);


    function f2(){
  "use strict"; // consultar modo estricto
  return this;
}


    </script>
  </body>
</html>
